Workflow,,,,Name,Description,Tasks,,Init,,
,,,,regresion,Regression test,%Tasks,,#init,,
[]Tasks,,,,Name,Description,Actions,,,,
,,,,prepare,Prepare app fot testing use cases,%Prepare,,,,
[]Prepare,,,Service,Action,Description,Request,targetHost,,,
,,,exec,run,Remove logs,#req/rm_logs,127.0.0.1,,,
,,,exec,run,Remove logs,#req/rm_logs,127.0.0.1,,,
,,,validator/log,listen,Listen for event1 log changes,#req/event1_listen,,,,
,,,validator/log,listen,Listen for event2 log changes,#req/event2_listen,,,,
[]Tasks,,,,Name,Description,Actions,,,,
,,,,test,Defines test requests,%Test,,,,
[]Test{1..002},eventType,Subpath,Service,Action,Description,Request,Init,Post,RunCriteria,TagDescription
,,use_cases/${index}*,http/runner,send,send a log request,#generate_log,,#extract_http_response,,#use_case.txt
,,use_cases/${index}*,validator,assert,assert http response,#expect_http,,,,
,,use_cases/${index}*,nop,nop,extract event ids,{},#extract_event_ids,,,
,event1,use_cases/${index}*,nop,nop,push $eventType message for validation if present,{},#event_push|#${eventType},,!HasResource(${subPath}/event1):true,
,event2,use_cases/${index}*,nop,nop,push $eventType message for validation if present,{},#event_push|#${eventType},,!HasResource(${subPath}/event2):true,
[]Tasks,,,,Name,Description,Actions,,,,
,,,,validate,Validate logs,%Validate,,,,
[]Validate,,,Service,Action,Descrption,Request,,,,
,,,validator/log,assert,validate logs,#req/log_validate,,,,
